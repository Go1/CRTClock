# Beautiful Flip Clock

美しいフリップ時計のWebアプリケーションです。レトロなデジタル時計のフリップ動作を再現し、リアルタイムで現在時刻を表示します。

## 特徴

- **リアルタイム時計**: 秒単位で更新される正確な時刻表示
- **フリップアニメーション**: 数字が変わる際の滑らかなフリップ効果
- **レスポンシブデザイン**: モバイルからデスクトップまで対応
- **美しいUI**: グラデーションと影効果による洗練されたデザイン
- **アンビエントグロー**: 時計周辺の美しい光彩効果
- **ネットワークアクセス対応**: 同一ネットワーク内の他デバイスからアクセス可能
- **動的サイズ調整**: 画面サイズと表示要素数に応じた最適なフォントサイズ自動調整
- **豊富なカスタマイズ機能**: 
  - 時刻表示形式（12時間/24時間）
  - 秒表示のON/OFF
  - フリップ構成（一桁/二桁）
  - フォントサイズ（4段階の基準値）
  - フォントカラー（6色）
  - フォントファミリー（4種類）
  - 表示フレーバー（3種類）
  - **CRTエフェクト**: 本格的なブラウン管モニター風エフェクト
  - **フォントグロー**: 全モード対応の美しい発光効果

## デフォルト設定

アプリケーションは以下の設定で起動します：
- **時刻表示**: 12時間形式（AM/PM表示）
- **秒表示**: ON
- **フリップ構成**: 二桁フリップ
- **フォントサイズ**: 特大（動的調整の基準値）
- **フォントカラー**: アンバー
- **表示フレーバー**: リアル
- **フォントファミリー**: モノスペース
- **CRTエフェクト**: ON
- **フォントグロー**: ON

## 技術スタック

- **React 18** - モダンなUIライブラリ
- **TypeScript** - 型安全な開発
- **Tailwind CSS** - ユーティリティファーストのCSSフレームワーク
- **Vite** - 高速な開発サーバーとビルドツール

## セットアップ方法

### 前提条件

- Node.js (バージョン 16 以上)
- npm または yarn

### Ubuntu での起動方法

```bash
# Node.jsとnpmのインストール（未インストールの場合）
sudo apt update
sudo apt install nodejs npm

# プロジェクトのクローン
git clone <repository-url>
cd beautiful-flip-clock

# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

### macOS での起動方法

```bash
# Homebrewを使用してNode.jsをインストール（未インストールの場合）
brew install node

# プロジェクトのクローン
git clone <repository-url>
cd beautiful-flip-clock

# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

### 起動後のアクセス方法

開発サーバーが起動すると、以下の方法でアプリケーションにアクセスできます：

#### 1. ローカルアクセス
```
http://localhost:5173
```

#### 2. ネットワークアクセス（他デバイスから）
```
http://[あなたのIPアドレス]:5173
```

**IPアドレスの確認方法:**
- **Windows**: `ipconfig` コマンドを実行
- **macOS/Linux**: `ifconfig` または `ip addr show` コマンドを実行
- **簡単な方法**: 開発サーバー起動時のコンソールに表示される「Network」のURLを使用

**例:**
```
➜  Local:   http://localhost:5173/
➜  Network: http://192.168.1.100:5173/
```

これにより、同一ネットワーク内のスマートフォン、タブレット、他のPCからもアクセス可能です。

## 利用可能なスクリプト

- `npm run dev` - 開発サーバーの起動
- `npm run build` - プロダクション用ビルド
- `npm run preview` - ビルド結果のプレビュー
- `npm run lint` - ESLintによるコードチェック

## プロジェクト構造

```
src/
├── components/
│   ├── FlipClock.tsx         # メインの時計コンポーネント
│   ├── FlipDigit.tsx         # 個別の数字フリップコンポーネント
│   ├── FlipDoubleDigit.tsx   # 二桁フリップコンポーネント
│   └── SettingsModal.tsx     # 設定画面コンポーネント
├── hooks/
│   └── useSettings.ts        # 設定管理フック
├── types/
│   └── settings.ts           # 設定関連の型定義
├── App.tsx                   # アプリケーションのルートコンポーネント
├── main.tsx                  # エントリーポイント
└── index.css                 # グローバルスタイルとアニメーション
```

## カスタマイズ機能

### 設定画面の開き方
時計画面にマウスカーソルを合わせると、右上に設定ボタンが表示されます。

### 利用可能な設定

#### 表示フレーバー
- **リアル**: 現実的なフリップ時計（デフォルト）
- **マテリアル**: モダンなマテリアルデザイン
- **8ビット**: レトロな8ビット風デザイン

#### フォントファミリー
- **モノスペース**: 等幅フォント（デフォルト）
- **サンセリフ**: モダンなゴシック体
- **セリフ**: クラシックな明朝体
- **ピクセル**: 8ビット風フォント

#### CRTエフェクト
本格的なブラウン管モニター風エフェクトを再現：
- **スキャンライン**: 荒い走査線エフェクト
- **フリッカー**: 微細な画面のちらつき
- **フォスファーグロー**: 蛍光体の発光効果
- **画面ぼかし**: CRT特有の画面全体のぼかし
- **ビネット効果**: 画面端の暗化
- **アンビエントグロー**: 画面全体の発光効果

#### フォントグロー
全ての表示フレーバーで利用可能な美しい発光効果：
- **リアルモード**: アンバー系の暖かい光彩
- **マテリアルモード**: ブルー系の洗練された光彩
- **8ビットモード**: グリーン系のレトロな光彩

#### 時刻表示形式
- **24時間表示**: 00:00 - 23:59
- **12時間表示**: 12:00 AM - 11:59 PM（AM/PMは時刻の右側に表示）

#### 秒表示
- 秒の表示/非表示を切り替え可能
- 秒表示をOFFにすると、時計全体が大きく表示されます

#### フリップ構成
- **一桁フリップ**: 各桁が個別にフリップ
- **二桁フリップ**: 時・分・秒が一体でフリップ（デフォルト）

#### フォントサイズ（動的調整の基準値）
- **小**: 基準サイズ小
- **中**: 基準サイズ中
- **大**: 基準サイズ大
- **特大**: 基準サイズ特大（デフォルト）

*実際のフォントサイズは画面サイズと表示要素数に基づいて自動調整されます*

#### フォントカラー
- **アンバー**: 暖かみのあるオレンジ色（デフォルト）
- **ブルー**: クールな青色
- **グリーン**: 自然な緑色
- **レッド**: 鮮やかな赤色
- **パープル**: 上品な紫色
- **ホワイト**: クリーンな白色

*注意: 8ビットモードでは緑色固定となります*

### 動的サイズ調整機能
- **画面サイズ対応**: ウィンドウサイズに応じて時計サイズが自動調整
- **要素数最適化**: 表示要素数（秒表示、AM/PM表示）に応じてフォントサイズが最適化
- **最大サイズ活用**: 要素数が少ない場合は利用可能な画面領域を最大限活用
- **レスポンシブ**: モバイルからデスクトップまで美しく表示

### セパレーター表示
- 時・分・秒の間のセパレーター（：）は非表示
- 適切な空間を保持してバランスの取れた表示を実現

### 設定の保存
すべての設定は自動的にブラウザのローカルストレージに保存され、次回アクセス時にも反映されます。

## 開発者向け情報

### カスタマイズ方法

- **色の追加**: `src/types/settings.ts` の各カラークラス定義に新しい色を追加
- **フォントサイズの調整**: `fontSizeClasses` オブジェクトでTailwindクラスを編集
- **アニメーション速度**: `src/index.css` の `@keyframes` セクションで調整
- **新しい設定項目**: `ClockSettings` インターフェースに追加し、対応するUIを実装
- **CRTエフェクトの調整**: `src/index.css` のCRT関連アニメーションとエフェクトを編集
- **動的サイズ調整**: `FlipClock.tsx` の `calculateFontSize` 関数で調整ロジックを変更

### 型安全性
TypeScriptを使用して、設定値の型安全性を確保しています。新しい設定を追加する際は、適切な型定義を行ってください。

### ネットワーク設定
開発サーバーは `vite.config.ts` で `host: '0.0.0.0'` に設定されており、ネットワーク経由でのアクセスが可能です。本番環境では適切なセキュリティ設定を行ってください。

### CRTエフェクトの技術詳細

#### 実装されているエフェクト
1. **スキャンライン**: `repeating-linear-gradient` による走査線の再現
2. **フリッカー**: `animation: flicker` による画面のちらつき
3. **フォスファーグロー**: `radial-gradient` による蛍光体の発光
4. **画面ぼかし**: `backdrop-filter: blur()` による画面全体のぼかし
5. **ビネット効果**: `radial-gradient` による画面端の暗化
6. **コンテンツブラー**: `filter: blur()` によるコンテンツの微細なぼかし

#### パフォーマンス最適化
- `transform-gpu` クラスによるGPUアクセラレーション
- `will-change` プロパティによる最適化ヒント
- レイヤー分離による描画パフォーマンスの向上

### 動的サイズ調整の技術詳細

#### 計算アルゴリズム
1. **利用可能領域の計算**: 画面サイズの90%（幅）× 65%（高さ）
2. **要素数の分析**: フリップモード、秒表示、AM/PM表示を考慮
3. **基本サイズ計算**: 幅制約と高さ制約の小さい方を採用
4. **スケーリング調整**: ユーザー設定、要素数、AM/PM有無を考慮
5. **最適化**: 要素数が少ない場合の画面領域最大活用

#### 最適化ポイント
- 要素数が減るごとに15%のボーナススケーリング
- AM/PM非表示時の10%ボーナス
- 画面サイズに応じた最大サイズ制限の動的調整

## セキュリティについて

- ネットワークアクセス機能は**開発環境のみ**での使用を推奨します
- 同一ネットワーク内の他のデバイスからアクセス可能になります
- 本番環境では適切なファイアウォールとセキュリティ設定を行ってください

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 更新履歴

### v2.2.0 - 動的サイズ調整とUI改善
- 画面サイズと表示要素数に応じた動的フォントサイズ調整機能を追加
- セパレーター（：）を非表示にして適切な空間を保持
- 要素数が少ない場合の画面領域最大活用機能
- フォントサイズ設定を基準値として動作するよう変更
- レスポンシブ性能の大幅向上

### v2.1.0 - デフォルト設定最適化
- デフォルト設定を最適化（12時間・CRT・フォントグロー・二桁フリップ・特大サイズ）
- ピクセル化エフェクトを削除（期待する効果が得られなかったため）
- 設定画面のUI改善

### v2.0.0 - CRTエフェクト対応
- 本格的なCRTモニター風エフェクトを追加
- フォントファミリー選択機能を追加
- 表示フレーバー機能を追加
- フォントグロー機能を全モードに対応
- パフォーマンスの最適化

### v1.0.0 - 初回リリース
- 基本的なフリップ時計機能
- カスタマイズ設定
- レスポンシブデザイン